<template>
  <!-- Card (Down payment) -->
  <div
    class="w-full bg-white border border-gray-100 rounded-xl drop-shadow-shadowcard"
    @click.stop
  >
    <div
      class="relative w-full h-56 overflow-hidden cursor-pointer group rounded-t-xl"
    >
      <img
        :src="unit?.main_image"
        alt=""
        class="object-cover object-center w-full h-full transition duration-500 rounded-t-xl group-hover:scale-110"
      />

      <div class="absolute top-0 flex items-center justify-between w-full p-4">
        <div class="px-3 py-1 text-xs font-medium bg-white rounded-full">
          {{ $t(unit?.flag ?? '') }}
        </div>
        <div class="flex items-center text-xs font-medium rounded-full gap-x-2">
          <button
            class="inline-flex items-center justify-center w-8 h-8 transition-colors bg-white rounded-full"
          >
            <!-- compare.svg -->
            <svg
              width="18"
              height="25"
              viewBox="0 0 18 25"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              class="w-5 h-5 text-gray-400 transition-colors fill-current"
            >
              <path
                d="M12.4793 4.9597C12.1157 4.9597 11.8182 5.21277 11.8182 5.52209C11.8182 5.8314 12.1157 6.08448 12.4793 6.08448H16.6777V19.146H12.7273C12.3471 19.146 12.0661 19.3991 12.0661 19.7084C12.0661 20.0177 12.3471 20.2708 12.7273 20.2708H17.3388C17.7025 20.2708 18 20.0177 18 19.7084V5.52209C18 5.21277 17.7025 4.9597 17.3388 4.9597H12.4793ZM8.34711 4.9597H0.661158C0.297522 4.9597 0 5.21277 0 5.52209V19.7084C0 20.0177 0.297522 20.2708 0.661158 20.2708H8.34711V24.0528C8.34711 24.3622 8.64463 24.6152 9.00826 24.6152C9.3719 24.6152 9.66942 24.3622 9.66942 24.0528V19.7084V1.17762C9.66942 0.868309 9.3719 0.615234 9.00826 0.615234C8.64463 0.615234 8.34711 0.868309 8.34711 1.17762V4.9597Z"
              />
            </svg>
          </button>
          <button
            class="inline-flex items-center justify-center w-8 h-8 bg-white rounded-full"
          >
            <!-- heart.svg -->
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              width="24"
              height="24"
              class="w-5 h-5 text-gray-400 transition-colors fill-current"
            >
              <path
                d="M12.001 4.52853C14.35 2.42 17.98 2.49 20.2426 4.75736C22.5053 7.02472 22.583 10.637 20.4786 12.993L11.9999 21.485L3.52138 12.993C1.41705 10.637 1.49571 7.01901 3.75736 4.75736C6.02157 2.49315 9.64519 2.41687 12.001 4.52853Z"
              ></path>
            </svg>
          </button>
        </div>
      </div>

      <!-- TODO: Developer Image -->
      <!-- <div class="absolute w-10 h-10 overflow-hidden text-xs font-medium bg-white rounded-full bottom-4 end-4">
      <img src="https://api.theestatebook.net/storage/3711/pasted-image-0.png" class="object-cover object-center w-full h-full" alt="" />
    </div> -->
    </div>

    <div class="relative overflow-hidden cursor-pointer group">
      <div
        class="grid grid-cols-2 bg-[#FAFAFA] px-4 py-2 text-xs font-semibold"
      >
        <div>{{ unit?.UnitType.name }}</div>
        <div>{{ $t('delivery') }} - {{ unit?.project.delivery_year }}</div>
      </div>

      <div
        class="absolute inset-0 z-10 flex items-center justify-center transition-transform gap-x-2 bg-white/80 backdrop-blur-sm"
        :class="[shareClicked ? 'translate-y-0' : 'translate-y-full']"
      >
        <a
          href="#"
          class="inline-flex items-center justify-center w-12 h-12 rounded-full"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            width="24"
            height="24"
            class="w-6 h-6 fill-current"
          >
            <path
              d="M14 13.5H16.5L17.5 9.5H14V7.5C14 6.47062 14 5.5 16 5.5H17.5V2.1401C17.1743 2.09685 15.943 2 14.6429 2C11.9284 2 10 3.65686 10 6.69971V9.5H7V13.5H10V22H14V13.5Z"
            ></path>
          </svg>
        </a>
        <a
          href="#"
          class="inline-flex items-center justify-center w-12 h-12 rounded-full"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            width="24"
            height="24"
            class="w-6 h-6 fill-current"
          >
            <path
              d="M15.3499 5.5498C13.7681 5.5498 12.4786 6.81785 12.4504 8.39633L12.4223 9.97138C12.4164 10.3027 12.143 10.5665 11.8117 10.5606C11.7881 10.5602 11.7646 10.5584 11.7413 10.5552L10.1805 10.3423C8.12699 10.0623 6.15883 9.11711 4.27072 7.54387C3.67275 10.8535 4.84 13.147 7.65342 14.9157L9.40041 16.014C9.68095 16.1904 9.7654 16.5608 9.58903 16.8413C9.54861 16.9056 9.49636 16.9616 9.43504 17.0064L7.84338 18.1693C8.78973 18.2288 9.68938 18.1873 10.435 18.0385C15.1526 17.097 18.2897 13.5468 18.2897 7.69084C18.2897 7.21275 17.2774 5.5498 15.3499 5.5498ZM10.4507 8.36066C10.4983 5.69559 12.6735 3.5498 15.3499 3.5498C16.7132 3.5498 17.9465 4.10658 18.8348 5.00515C19.5462 4.9998 20.1514 5.17966 21.5035 4.35943C21.1693 5.9998 21.0034 6.71177 20.2897 7.69084C20.2897 15.3324 15.5926 19.0487 10.8264 19.9998C7.5587 20.6519 2.80646 19.5812 1.44531 18.1584C2.13874 18.1051 4.95928 17.8018 6.58895 16.6089C5.20994 15.6984 -0.278631 12.4679 3.32772 3.78617C5.02119 5.76283 6.73797 7.10831 8.47807 7.82262C9.63548 8.29774 9.91978 8.28825 10.4507 8.36066Z"
            ></path>
          </svg>
        </a>
        <a
          href="#"
          class="inline-flex items-center justify-center w-12 h-12 rounded-full group"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            width="24"
            height="24"
            class="w-6 h-6 fill-current"
          >
            <path
              d="M7.25361 18.4944L7.97834 18.917C9.18909 19.623 10.5651 20 12.001 20C16.4193 20 20.001 16.4183 20.001 12C20.001 7.58172 16.4193 4 12.001 4C7.5827 4 4.00098 7.58172 4.00098 12C4.00098 13.4363 4.37821 14.8128 5.08466 16.0238L5.50704 16.7478L4.85355 19.1494L7.25361 18.4944ZM2.00516 22L3.35712 17.0315C2.49494 15.5536 2.00098 13.8345 2.00098 12C2.00098 6.47715 6.47813 2 12.001 2C17.5238 2 22.001 6.47715 22.001 12C22.001 17.5228 17.5238 22 12.001 22C10.1671 22 8.44851 21.5064 6.97086 20.6447L2.00516 22ZM8.39232 7.30833C8.5262 7.29892 8.66053 7.29748 8.79459 7.30402C8.84875 7.30758 8.90265 7.31384 8.95659 7.32007C9.11585 7.33846 9.29098 7.43545 9.34986 7.56894C9.64818 8.24536 9.93764 8.92565 10.2182 9.60963C10.2801 9.76062 10.2428 9.95633 10.125 10.1457C10.0652 10.2428 9.97128 10.379 9.86248 10.5183C9.74939 10.663 9.50599 10.9291 9.50599 10.9291C9.50599 10.9291 9.40738 11.0473 9.44455 11.1944C9.45903 11.25 9.50521 11.331 9.54708 11.3991C9.57027 11.4368 9.5918 11.4705 9.60577 11.4938C9.86169 11.9211 10.2057 12.3543 10.6259 12.7616C10.7463 12.8783 10.8631 12.9974 10.9887 13.108C11.457 13.5209 11.9868 13.8583 12.559 14.1082L12.5641 14.1105C12.6486 14.1469 12.692 14.1668 12.8157 14.2193C12.8781 14.2457 12.9419 14.2685 13.0074 14.2858C13.0311 14.292 13.0554 14.2955 13.0798 14.2972C13.2415 14.3069 13.335 14.2032 13.3749 14.1555C14.0984 13.279 14.1646 13.2218 14.1696 13.2222V13.2238C14.2647 13.1236 14.4142 13.0888 14.5476 13.097C14.6085 13.1007 14.6691 13.1124 14.7245 13.1377C15.2563 13.3803 16.1258 13.7587 16.1258 13.7587L16.7073 14.0201C16.8047 14.0671 16.8936 14.1778 16.8979 14.2854C16.9005 14.3523 16.9077 14.4603 16.8838 14.6579C16.8525 14.9166 16.7738 15.2281 16.6956 15.3913C16.6406 15.5058 16.5694 15.6074 16.4866 15.6934C16.3743 15.81 16.2909 15.8808 16.1559 15.9814C16.0737 16.0426 16.0311 16.0714 16.0311 16.0714C15.8922 16.159 15.8139 16.2028 15.6484 16.2909C15.391 16.428 15.1066 16.5068 14.8153 16.5218C14.6296 16.5313 14.4444 16.5447 14.2589 16.5347C14.2507 16.5342 13.6907 16.4482 13.6907 16.4482C12.2688 16.0742 10.9538 15.3736 9.85034 14.402C9.62473 14.2034 9.4155 13.9885 9.20194 13.7759C8.31288 12.8908 7.63982 11.9364 7.23169 11.0336C7.03043 10.5884 6.90299 10.1116 6.90098 9.62098C6.89729 9.01405 7.09599 8.4232 7.46569 7.94186C7.53857 7.84697 7.60774 7.74855 7.72709 7.63586C7.85348 7.51651 7.93392 7.45244 8.02057 7.40811C8.13607 7.34902 8.26293 7.31742 8.39232 7.30833Z"
            ></path>
          </svg>
        </a>
        <button
          class="inline-flex items-center justify-center w-12 h-12 rounded-full"
          @click.stop="handleCopyToClipboard"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 24 24"
            width="24"
            height="24"
            class="w-6 h-6 fill-current"
          >
            <path
              d="M18.3643 15.5353L16.95 14.1211L18.3643 12.7069C20.3169 10.7543 20.3169 7.58847 18.3643 5.63585C16.4116 3.68323 13.2458 3.68323 11.2932 5.63585L9.87898 7.05007L8.46477 5.63585L9.87898 4.22164C12.6127 1.48797 17.0448 1.48797 19.7785 4.22164C22.5121 6.95531 22.5121 11.3875 19.7785 14.1211L18.3643 15.5353ZM15.5358 18.3638L14.1216 19.778C11.388 22.5117 6.9558 22.5117 4.22213 19.778C1.48846 17.0443 1.48846 12.6122 4.22213 9.87849L5.63634 8.46428L7.05055 9.87849L5.63634 11.2927C3.68372 13.2453 3.68372 16.4112 5.63634 18.3638C7.58896 20.3164 10.7548 20.3164 12.7074 18.3638L14.1216 16.9496L15.5358 18.3638ZM14.8287 7.75717L16.2429 9.17139L9.17187 16.2425L7.75766 14.8282L14.8287 7.75717Z"
            ></path>
          </svg>
        </button>
      </div>

      <div class="p-4 space-y-4">
        <!-- START: -->
        <div class="space-y-4">
          <div class="grid grid-cols-2">
            <div class="flex flex-col capitalize gap-y-3">
              <!-- if cash -->
              <div
                v-if="
                  unit?.payment_type === 'cash' ||
                  unit?.payment_type === 'installments'
                "
                class="space-y-2"
              >
                <div>
                  <div class="text-xs text-gray-500">
                    <p>{{ $t('start_from') }}</p>
                  </div>
                  <h2 class="font-bold line-clamp-1">
                    {{ $numberFormat(unit.price) }}
                    <span class="text-xs">{{ $t('EGP') }}</span>
                  </h2>
                </div>
                <p
                  title="The Wonder MarQ"
                  class="text-xs rounded-lg line-clamp-1 max-w-fit"
                >
                  {{ unit.project.name }}
                </p>
              </div>
            </div>

            <div class="flex flex-col capitalize gap-y-6">
              <!-- if="down_payment" -->
              <div
                v-if="unit?.payment_type === 'installments'"
                class="space-y-2"
              >
                <div>
                  <div class="text-xs text-gray-500">
                    <p>{{ $t('down_payment') }}</p>
                  </div>
                  <h2 class="font-bold line-clamp-1">
                    {{ $numberFormat(unit.min_down_payment) }}
                    <span class="text-xs">{{ $t('EGP') }}</span>
                  </h2>
                </div>
                <p
                  v-if="unit.min_month_payment"
                  title="40,000 monthly over 8 years"
                  class="text-xs text-gray-500 line-clamp-1"
                >
                  {{ $numberFormat(unit.min_month_payment) }}
                  {{ unit.duration }} {{ $t('monthly') }} / {{ $t('years') }}
                </p>
              </div>
              <!-- else -->
              <div v-else-if="unit?.payment_type === 'cash'">
                <div class="text-xs text-gray-500">
                  <p>{{ $t('payment_method') }}</p>
                </div>
                <h2 class="font-bold">{{ $t('cash') }}</h2>
              </div>
            </div>
          </div>
          <div class="flex items-center text-xs gap-x-1">
            <svg
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
              width="24"
              height="24"
              class="w-4 h-4 text-gray-500 fill-current shrink-0"
            >
              <path
                d="M12 20.8995L16.9497 15.9497C19.6834 13.2161 19.6834 8.78392 16.9497 6.05025C14.2161 3.31658 9.78392 3.31658 7.05025 6.05025C4.31658 8.78392 4.31658 13.2161 7.05025 15.9497L12 20.8995ZM12 23.7279L5.63604 17.364C2.12132 13.8492 2.12132 8.15076 5.63604 4.63604C9.15076 1.12132 14.8492 1.12132 18.364 4.63604C21.8787 8.15076 21.8787 13.8492 18.364 17.364L12 23.7279ZM12 13C13.1046 13 14 12.1046 14 11C14 9.89543 13.1046 9 12 9C10.8954 9 10 9.89543 10 11C10 12.1046 10.8954 13 12 13ZM12 15C9.79086 15 8 13.2091 8 11C8 8.79086 9.79086 7 12 7C14.2091 7 16 8.79086 16 11C16 13.2091 14.2091 15 12 15Z"
              ></path>
            </svg>
            <p class="line-clamp-1">{{ unit?.address }}</p>
          </div>
        </div>
        <!-- END: -->

        <!-- START:  -->
        <div>
          <div class="flex items-center gap-x-4">
            <div class="flex items-center gap-x-4">
              <div class="flex items-center text-xs font-medium gap-x-2">
                <div
                  class="flex items-center justify-center w-8 h-8 border border-gray-100 rounded-lg bg-gray-50"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    viewBox="0 0 24 24"
                    width="24"
                    height="24"
                    class="w-5 h-5 text-gray-400 fill-current"
                  >
                    <path
                      d="M22 11V20H20V17H4V20H2V4H4V14H12V7H18C20.2091 7 22 8.79086 22 11ZM8 13C6.34315 13 5 11.6569 5 10C5 8.34315 6.34315 7 8 7C9.65685 7 11 8.34315 11 10C11 11.6569 9.65685 13 8 13Z"
                    ></path>
                  </svg>
                </div>
                {{ unit?.bedroom }}
              </div>

              <div class="flex items-center text-xs font-medium gap-x-2">
                <div
                  class="flex items-center justify-center w-8 h-8 border border-gray-100 rounded-lg bg-gray-50"
                >
                  <svg
                    width="21"
                    height="17"
                    viewBox="0 0 21 17"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                    class="w-5 h-5 text-gray-400 fill-current"
                  >
                    <path
                      d="M5.67805 5.2913C5.87922 5.0514 5.87144 4.68539 5.65352 4.45601C5.42693 4.21746 5.05948 4.21746 4.83285 4.45601L4.54804 4.7558V2.30079C4.54804 1.70576 5.00795 1.22166 5.57324 1.22166C6.13854 1.22166 6.59845 1.70576 6.59845 2.30079C6.59845 2.63814 6.85827 2.91162 7.17875 2.91162C7.49924 2.91162 7.75906 2.63814 7.75906 2.30079C7.75906 1.03214 6.7785 0 5.57324 0C4.36799 0 3.38743 1.03214 3.38743 2.30079V4.7558L3.10261 4.45601C2.87603 4.21746 2.50858 4.21746 2.28195 4.45601C2.06402 4.68539 2.05629 5.05136 2.25742 5.2913H5.67805Z"
                      fill="black"
                      fill-opacity="0.2"
                    />
                    <path
                      d="M19.9427 6.51367H19.284H1.9601H1.29515C0.974666 6.51367 0.714844 6.78716 0.714844 7.1245C0.714844 7.46184 0.974666 7.73533 1.29515 7.73533H1.51346C1.81406 8.93313 2.1152 10.1308 2.41699 11.3283C2.78317 12.7811 3.74024 13.8976 4.9821 14.4323L4.44566 15.1284C4.24375 15.3904 4.2819 15.7751 4.53077 15.9876C4.63828 16.0794 4.76754 16.1241 4.89598 16.1241C5.06485 16.1241 5.23232 16.0468 5.34699 15.898L6.22708 14.756C6.37603 14.7714 6.52687 14.7802 6.6798 14.7802H14.5595C14.7139 14.7802 14.8662 14.7712 15.0165 14.7555L15.897 15.8981C16.0117 16.0469 16.1792 16.1241 16.348 16.1241C16.4765 16.1241 16.6058 16.0794 16.7132 15.9876C16.9621 15.7751 17.0002 15.3905 16.7983 15.1285L16.2607 14.4309C17.5013 13.8954 18.4571 12.7791 18.8227 11.3269C19.1487 10.0316 19.4467 8.85164 19.7296 7.73537H19.9426C20.2631 7.73537 20.5229 7.46188 20.5229 7.12454C20.5229 6.7872 20.2631 6.51367 19.9427 6.51367Z"
                    />
                  </svg>
                </div>
                {{ unit?.bathroom }}
              </div>

              <div class="flex items-center text-xs font-medium gap-x-2">
                <div
                  class="flex items-center justify-center w-8 h-8 border border-gray-100 rounded-lg bg-gray-50"
                >
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="32"
                    height="32"
                    viewBox="0 0 512 512"
                    class="w-4 h-4 text-gray-400 fill-current"
                  >
                    <path
                      fill="currentColor"
                      d="m93.1 139.6l46.5-46.5l-46.5-46.6L139.6 0H0v139.6l46.5-46.5l46.6 46.5zm0 232.8l-46.5 46.5L0 372.4V512h139.6l-46.5-46.5l46.5-46.5l-46.5-46.6zm279.3-232.8H139.6v232.7h232.7V139.6zm-46.6 186.2H186.2V186.2h139.6v139.6zM372.4 0l46.5 46.5L372.4 93l46.5 46.5L465.4 93l46.5 46.5V0H372.4zm46.5 372.4l-46.5 46.5l46.5 46.5l-46.5 46.6H512V372.4l-46.5 46.5l-46.6-46.5z"
                    />
                  </svg>
                </div>
                <span
                  >{{ unit?.area }} <span>m<sup>2</sup></span></span
                >
              </div>
            </div>
          </div>
          <!-- END:  -->
        </div>
      </div>
    </div>
    <!-- call to action (cta) -->
    <div
      class="grid grid-cols-3 overflow-hidden border-t rounded-b-lg border-t-gray-100"
    >
      <!-- Telephone -->
      <a
        :href="`tel:+${unit?.agent.mobile}`"
        class="inline-flex items-center justify-center p-4 hover:bg-[#FAFAFA]"
        @click.stop
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          width="24"
          height="24"
          class="fill-current h-7 w-7 text-primary-green"
        >
          <path
            d="M21 16.42V19.9561C21 20.4811 20.5941 20.9167 20.0705 20.9537C19.6331 20.9846 19.2763 21 19 21C10.1634 21 3 13.8366 3 5C3 4.72371 3.01545 4.36687 3.04635 3.9295C3.08337 3.40588 3.51894 3 4.04386 3H7.5801C7.83678 3 8.05176 3.19442 8.07753 3.4498C8.10067 3.67907 8.12218 3.86314 8.14207 4.00202C8.34435 5.41472 8.75753 6.75936 9.3487 8.00303C9.44359 8.20265 9.38171 8.44159 9.20185 8.57006L7.04355 10.1118C8.35752 13.1811 10.8189 15.6425 13.8882 16.9565L15.4271 14.8019C15.5572 14.6199 15.799 14.5573 16.001 14.6532C17.2446 15.2439 18.5891 15.6566 20.0016 15.8584C20.1396 15.8782 20.3225 15.8995 20.5502 15.9225C20.8056 15.9483 21 16.1633 21 16.42Z"
          ></path>
        </svg>
      </a>
      <!-- Whatsapp -->
      <a
        :href="`https://wa.me/${unit?.agent.mobile}?text=Hello , I hope you are doing well , I am interested in ${unit?.title} with code ${unit?.reference}`"
        target="_blank"
        class="inline-flex items-center justify-center p-3 hover:bg-[#FAFAFA]"
        @click.stop
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          width="24"
          height="24"
          class="fill-current h-7 w-7 text-primary-green"
        >
          <path
            d="M7.25361 18.4944L7.97834 18.917C9.18909 19.623 10.5651 20 12.001 20C16.4193 20 20.001 16.4183 20.001 12C20.001 7.58172 16.4193 4 12.001 4C7.5827 4 4.00098 7.58172 4.00098 12C4.00098 13.4363 4.37821 14.8128 5.08466 16.0238L5.50704 16.7478L4.85355 19.1494L7.25361 18.4944ZM2.00516 22L3.35712 17.0315C2.49494 15.5536 2.00098 13.8345 2.00098 12C2.00098 6.47715 6.47813 2 12.001 2C17.5238 2 22.001 6.47715 22.001 12C22.001 17.5228 17.5238 22 12.001 22C10.1671 22 8.44851 21.5064 6.97086 20.6447L2.00516 22ZM8.39232 7.30833C8.5262 7.29892 8.66053 7.29748 8.79459 7.30402C8.84875 7.30758 8.90265 7.31384 8.95659 7.32007C9.11585 7.33846 9.29098 7.43545 9.34986 7.56894C9.64818 8.24536 9.93764 8.92565 10.2182 9.60963C10.2801 9.76062 10.2428 9.95633 10.125 10.1457C10.0652 10.2428 9.97128 10.379 9.86248 10.5183C9.74939 10.663 9.50599 10.9291 9.50599 10.9291C9.50599 10.9291 9.40738 11.0473 9.44455 11.1944C9.45903 11.25 9.50521 11.331 9.54708 11.3991C9.57027 11.4368 9.5918 11.4705 9.60577 11.4938C9.86169 11.9211 10.2057 12.3543 10.6259 12.7616C10.7463 12.8783 10.8631 12.9974 10.9887 13.108C11.457 13.5209 11.9868 13.8583 12.559 14.1082L12.5641 14.1105C12.6486 14.1469 12.692 14.1668 12.8157 14.2193C12.8781 14.2457 12.9419 14.2685 13.0074 14.2858C13.0311 14.292 13.0554 14.2955 13.0798 14.2972C13.2415 14.3069 13.335 14.2032 13.3749 14.1555C14.0984 13.279 14.1646 13.2218 14.1696 13.2222V13.2238C14.2647 13.1236 14.4142 13.0888 14.5476 13.097C14.6085 13.1007 14.6691 13.1124 14.7245 13.1377C15.2563 13.3803 16.1258 13.7587 16.1258 13.7587L16.7073 14.0201C16.8047 14.0671 16.8936 14.1778 16.8979 14.2854C16.9005 14.3523 16.9077 14.4603 16.8838 14.6579C16.8525 14.9166 16.7738 15.2281 16.6956 15.3913C16.6406 15.5058 16.5694 15.6074 16.4866 15.6934C16.3743 15.81 16.2909 15.8808 16.1559 15.9814C16.0737 16.0426 16.0311 16.0714 16.0311 16.0714C15.8922 16.159 15.8139 16.2028 15.6484 16.2909C15.391 16.428 15.1066 16.5068 14.8153 16.5218C14.6296 16.5313 14.4444 16.5447 14.2589 16.5347C14.2507 16.5342 13.6907 16.4482 13.6907 16.4482C12.2688 16.0742 10.9538 15.3736 9.85034 14.402C9.62473 14.2034 9.4155 13.9885 9.20194 13.7759C8.31288 12.8908 7.63982 11.9364 7.23169 11.0336C7.03043 10.5884 6.90299 10.1116 6.90098 9.62098C6.89729 9.01405 7.09599 8.4232 7.46569 7.94186C7.53857 7.84697 7.60774 7.74855 7.72709 7.63586C7.85348 7.51651 7.93392 7.45244 8.02057 7.40811C8.13607 7.34902 8.26293 7.31742 8.39232 7.30833Z"
          ></path>
        </svg>
      </a>
      <!-- Share -->
      <button
        class="inline-flex items-center justify-center p-3 hover:bg-[#FAFAFA]"
        @click.stop="handleShareClick"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 24 24"
          width="24"
          height="24"
          class="fill-current h-7 w-7 text-primary-green"
        >
          <path
            d="M13.5759 17.2714L8.46576 14.484C7.83312 15.112 6.96187 15.5 6 15.5C4.067 15.5 2.5 13.933 2.5 12C2.5 10.067 4.067 8.5 6 8.5C6.96181 8.5 7.83301 8.88796 8.46564 9.51593L13.5759 6.72855C13.5262 6.49354 13.5 6.24983 13.5 6C13.5 4.067 15.067 2.5 17 2.5C18.933 2.5 20.5 4.067 20.5 6C20.5 7.933 18.933 9.5 17 9.5C16.0381 9.5 15.1669 9.11201 14.5343 8.48399L9.42404 11.2713C9.47382 11.5064 9.5 11.7501 9.5 12C9.5 12.2498 9.47383 12.4935 9.42408 12.7285L14.5343 15.516C15.167 14.888 16.0382 14.5 17 14.5C18.933 14.5 20.5 16.067 20.5 18C20.5 19.933 18.933 21.5 17 21.5C15.067 21.5 13.5 19.933 13.5 18C13.5 17.7502 13.5262 17.5064 13.5759 17.2714Z"
          ></path>
        </svg>
      </button>
    </div>
  </div>
</template>

<script lang="ts">
import { defineComponent, PropOptions } from 'vue'

export default defineComponent({
  name: 'UnitCard',
  props: {
    unit: {
      type: Object,
      default: () => ({} as Unit),
      required: true,
    } as PropOptions<Unit>,
  },
  data() {
    return {
      shareClicked: false,
      copiedLink: '',
      hostname: '',
    }
  },
  mounted() {
    this.hostname = window.location.href
  },
  methods: {
    handleShareClick() {
      this.shareClicked = !this.shareClicked
    },
    handleCopyToClipboard() {
      navigator.clipboard.writeText(`${this.hostname}/units/${this.unit?.slug}`)
    },
  },
})
</script>
